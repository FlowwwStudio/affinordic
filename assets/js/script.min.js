let isMenuOpen=!1,isAnimating=!1;document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger);const menuButton=document.querySelector('[data-menu="button"]'),containerTop=document.querySelector(".navbar_links-container.is-top"),containerMiddle=document.querySelector(".navbar_links-container.is-middle"),containerBottom=document.querySelector(".navbar_links-container.is-bottom"),navMenu=document.querySelector(".navbar_menu");function toggleMenu(){if(!isAnimating)if(isAnimating=!0,isMenuOpen){const closeMenu=gsap.timeline({onComplete:()=>{navMenu.style.display="none",gsap.set([containerTop,containerMiddle,containerBottom],{xPercent:105,yPercent:0,rotation:0}),isMenuOpen=!1,isAnimating=!1}});closeMenu.to(containerTop,{xPercent:0,yPercent:300,rotation:20,duration:1,ease:"power2.inOut"}).to(containerMiddle,{xPercent:0,yPercent:250,rotation:10,duration:1,ease:"power2.inOut"},"<0.1").to(containerBottom,{xPercent:0,yPercent:200,rotation:-20,duration:1,ease:"power2.inOut"},"<0.1").to(navMenu,{opacity:0,duration:.3})}else{navMenu.style.display="flex";const openMenu=gsap.timeline({onComplete:()=>{isMenuOpen=!0,isAnimating=!1}});openMenu.to(navMenu,{opacity:1,duration:.3}).to(containerTop,{xPercent:0,duration:.4,ease:"power2.inOut"},"<0.1").to(containerMiddle,{xPercent:0,duration:.4,ease:"power2.inOut"},"<0.1").to(containerBottom,{xPercent:0,duration:.4,ease:"power2.inOut"},"<0.1")}}gsap.set(navMenu,{display:"none",opacity:0}),gsap.set([containerTop,containerMiddle,containerBottom],{xPercent:105,yPercent:0,rotation:0}),menuButton&&menuButton.addEventListener("click",toggleMenu);const loaderRect=document.querySelector(".loader_rect");function pageLeave(){return new Promise(resolve=>{const tl=gsap.timeline({onComplete:()=>{setTimeout(()=>{resolve()},800)}});tl.to(loaderRect,{opacity:1,right:"-50%",duration:.8,ease:"power2.inOut"}).to(loaderRect,{duration:.8,ease:"power2.inOut"},"<")})}function pageEnter(){const tl=gsap.timeline();tl.to(loaderRect,{opacity:1,right:"-200%",duration:.8,ease:"power2.inOut"}).to(loaderRect,{duration:.8,ease:"power2.inOut"},"<").to(loaderRect,{opacity:0,right:"0%",duration:0},"<")}gsap.set(loaderRect,{right:"-50%",opacity:1}),document.addEventListener("click",async e=>{const link=e.target.closest("a");link&&link.href&&link.href.startsWith(window.location.origin)&&!link.hasAttribute("no-transition")&&(e.preventDefault(),await pageLeave(),window.location.href=link.href)}),window.addEventListener("DOMContentLoaded",()=>{pageEnter()})});