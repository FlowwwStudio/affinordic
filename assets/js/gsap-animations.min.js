document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger,SplitText);const defaults_fade={duration:.5,delay:0,stagger:.1},defaults_slideUp={duration:.3,delay:0,stagger:.1,distance:"50px"},defaults_splitText={duration:.4,delay:0,stagger:.1},splitTextElements=[],splitTextInstances=new Map;let lastWindowWidth=window.innerWidth;function initAnimations(){document.querySelectorAll("[fade-in]").forEach(element=>{const duration=element.dataset.duration||defaults_fade.duration,delay=element.dataset.delay||defaults_fade.delay,stagger=element.dataset.stagger||defaults_fade.stagger;gsap.from(element,{opacity:0,duration:parseFloat(duration),delay:parseFloat(delay),stagger:parseFloat(stagger),scrollTrigger:{trigger:element,start:"top 90%",toggleActions:"play none none pause"}})}),document.querySelectorAll("[slide-up]").forEach(element=>{const duration=element.dataset.duration||defaults_slideUp.duration,delay=element.dataset.delay||defaults_slideUp.delay,stagger=element.dataset.stagger||defaults_slideUp.stagger,distance=element.dataset.distance||defaults_slideUp.distance;gsap.from(element,{opacity:0,y:distance,ease:"power1.out",duration:parseFloat(duration),delay:parseFloat(delay),stagger:parseFloat(stagger),scrollTrigger:{trigger:element,start:"top 90%",toggleActions:"play none none pause"}})}),document.querySelectorAll("[split-text]").forEach(element=>{let splitType="lines";element.hasAttribute("split-char")?splitType="chars":element.hasAttribute("split-word")&&(splitType="words");const duration=element.dataset.duration||defaults_splitText.duration,delay=element.dataset.delay||defaults_splitText.delay,stagger=element.dataset.stagger||defaults_splitText.stagger;splitTextInstances.has(element)&&splitTextInstances.get(element).revert();const split=new SplitText(element,{type:splitType});splitTextInstances.set(element,split),splitTextElements.push(element),gsap.from(split[splitType],{opacity:0,yPercent:100,ease:"power1.out",duration:parseFloat(duration),delay:parseFloat(delay),stagger:parseFloat(stagger),scrollTrigger:{trigger:element,start:"top 90%",toggleActions:"play none none pause"}})})}function refreshSplitTextAnimations(){document.querySelectorAll("[split-text]").forEach(element=>{let splitType="lines";element.hasAttribute("split-char")?splitType="chars":element.hasAttribute("split-word")&&(splitType="words"),splitTextInstances.has(element)&&splitTextInstances.get(element).revert(),ScrollTrigger.getAll().forEach(trigger=>{trigger.trigger===element&&trigger.kill()}),gsap.killTweensOf(element);const split=new SplitText(element,{type:splitType});splitTextInstances.set(element,split);const duration=element.dataset.duration||defaults_splitText.duration,delay=element.dataset.delay||defaults_splitText.delay,stagger=element.dataset.stagger||defaults_splitText.stagger;gsap.from(split[splitType],{opacity:0,yPercent:100,ease:"power1.out",duration:parseFloat(duration),delay:parseFloat(delay),stagger:parseFloat(stagger),scrollTrigger:{trigger:element,start:"top 90%",toggleActions:"play none none pause"}})}),ScrollTrigger.refresh()}initAnimations(),window.addEventListener("resize",()=>{window.innerWidth!==lastWindowWidth&&(lastWindowWidth=window.innerWidth,refreshSplitTextAnimations())});const imageScroll=document.querySelectorAll("[img-scale]");imageScroll.forEach(image=>{gsap.from(image,{scale:1.1,scrollTrigger:{trigger:image,start:"top bottom",end:"bottom top",scrub:!0}})})});